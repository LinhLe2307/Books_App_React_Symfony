(self.webpackChunk=self.webpackChunk||[]).push([[143],{4180:(e,t,n)=>{var r={"./hello_controller.js":4695};function a(e){var t=l(e);return n(t)}function l(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=l,e.exports=a,a.id=4180},8205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={}},4695:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});n(8304),n(489),n(1539),n(2419),n(8011),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return i(this,n)}}function i(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o(e,t)}(s,e);var t,n,r,i=c(s);function s(){return a(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(n(6599).Qr)},1756:(e,t,n)=>{"use strict";(0,n(2192).x)(n(4180)),n(2222),n(7327),n(1539),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038),n(4916);var r=n(7294),a=n(745),l=n(9342),o=n(6974);const c=function(){return r.createElement("div",null,r.createElement(o.j3,null))};var i=n(5365),s=n(6455),m=n.n(s);const u=function(){return r.createElement("div",{id:"contact",className:"d-flex flex-column justify-content-center align-items-center"},r.createElement("h2",null,"Let me know what's on your mind"),r.createElement("form",{className:"d-flex flex-column",onSubmit:function(e){e.preventDefault(),i.ZP.sendForm("gmail","book_nook_template",e.target,"JgVe0jEEd03wg5njc").then((function(e){m().fire({icon:"success",title:"Email sent successfully",showConfirmButton:!1,timer:1500}),console.log(e.text)}),(function(e){m().fire({icon:"error",title:"An error occurred",showConfirmButton:!1,timer:1500}),console.log(e.text)})),e.target.reset()}},r.createElement("div",{className:"row gx-5"},r.createElement("div",{className:"col"},r.createElement("label",null,"First Name"),r.createElement("input",{type:"text",className:"text-line",name:"fname"})),r.createElement("div",{className:"col"},r.createElement("label",null,"Last Name"),r.createElement("input",{type:"text",className:"text-line",name:"lname"}))),r.createElement("div",{className:"row gx-5"},r.createElement("div",{className:"col"},r.createElement("label",null,"Email Name*"),r.createElement("input",{type:"email",className:"text-line",name:"email",required:!0})),r.createElement("div",{className:"col"},r.createElement("label",null,"Leave me a message"),r.createElement("textarea",{className:"textarea-line",name:"message"}))),r.createElement("button",{type:"submit",className:"btn btn-primary align-self-center mb-5",id:"btnSubmit"},"Submit")))};const d=function(){return r.createElement("div",null,r.createElement(u,null),r.createElement("footer",{className:"text-center text-lg-start"},r.createElement("div",{className:"text-center p-3"},r.createElement("div",null,"All the pictures are licensed under"," ",r.createElement("a",{href:"https://unsplash.com/",target:"_blank"},"Unsplash")," license"),r.createElement("div",null,"Â© 2022 Copyright"))))};n(5306),n(7207),n(3210),n(7941);var f=n(6245);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const h=function(e){var t,n=e.books,a=p((0,r.useState)(""),2),o=a[0],c=a[1],i=p((0,r.useState)({}),2),s=i[0],m=i[1],u=p((0,r.useState)(!1),2),d=u[0],v=u[1],h=function(e){console.log("Encoded JWI ID token: "+e.credential);var t=(0,f.Z)(e.credential);m(t),document.getElementById("signInDiv").hidden=!0};return(0,r.useEffect)((function(){google.accounts.id.initialize({client_id:"776173077238-q3dqfad6hp6andesnhaalve5295ua3hq.apps.googleusercontent.com",callback:h}),google.accounts.id.renderButton(document.getElementById("signInDiv"),{theme:"outline",size:"large"}),google.accounts.id.prompt()}),[]),r.createElement("header",{className:"sticky-top p-4"},r.createElement("nav",{className:"navbar-expand-lg"},r.createElement("div",{className:"navbar-collapse justify-content-between",id:"navbarSupportedContent"},r.createElement("h1",{className:"ml-5"},r.createElement(l.rU,{to:"/",className:"text-white"},"Book Nook")),r.createElement("form",{onSubmit:function(e){e.preventDefault()}},r.createElement("input",{type:"text",onChange:function(e){var t=e.target.value.trim().replaceAll(" ","+");c(t)},defaultValue:o,placeholder:"Search..."}),r.createElement("button",{type:"submit",className:"btn btn-primary"},r.createElement(l.rU,{to:"/search/".concat(o),className:"text-light"},"Submit"))),r.createElement("ul",{className:"nav"},r.createElement("li",{className:"nav-item"},r.createElement(l.rU,{to:"/",className:"nav-link active text-white"},"Home")),r.createElement("li",{className:"nav-item"},r.createElement("a",{href:"#contact",className:"nav-link active text-white"},"Contacts")),r.createElement("li",{className:"nav-item"},r.createElement(l.rU,{to:"/shopping-cart",className:"nav-link active"},r.createElement("span",{className:"text-white"},null!==(t=n.length)&&void 0!==t?t:"0 "),r.createElement("span",{className:"material-symbols-outlined text-white"},"shopping_cart"))),r.createElement("li",{id:"signInDiv"}),d&&0!=Object.keys(s).length&&r.createElement("button",{onClick:function(e){return m({}),void(document.getElementById("signInDiv").hidden=!1)},className:"btn btn-primary",style:{height:"2.5rem"}},"Sign Out"),s&&r.createElement("div",{onClick:function(){return v((function(e){return!e}))}},r.createElement("img",{style:{height:"3rem",borderRadius:"50%"},src:s.picture}),r.createElement("h3",{style:{color:"white"}},s.name))))),r.createElement("button",{id:"btnUp",className:"btn btn-primary"},r.createElement("a",{href:"#",className:"material-symbols-outlined link-light"},"arrow_upward")))};const E=function(e){var t=e.books;return r.createElement(r.Fragment,null,r.createElement(h,{books:t}),r.createElement(c,null),r.createElement(d,null))};n(1249),n(9601);var y=n(9669),b=n.n(y);const g=function(e){var t,n=e.id,a=e.volumeInfo,o=e.saleInfo,c=e.click,i=a.title,s=a.imageLinks.thumbnail||(null===(t=a.imageLinks)||void 0===t?void 0:t.smallThumbnail),m=a.authors,u=a.publishedDate,d=o.listPrice.amount,f=o.listPrice.currencyCode,p=i&&i.replaceAll(" ","-");return r.createElement("div",{className:"card",style:{width:"15rem"}},r.createElement(l.rU,{to:"".concat(n,"/").concat(p),state:{data:e.data}},r.createElement("img",{src:s,alt:i,className:"card-img-top"})),r.createElement("div",{className:"card-body"},r.createElement(l.rU,{to:"".concat(n,"/").concat(p),state:{data:e.data}},r.createElement("h5",{className:"card-title"},i)),r.createElement("ul",null,"Unknown Authors"===m?r.createElement("li",null,"Unknown Authors"):null==m?void 0:m.map((function(e){var t=e.replaceAll(" ","+");return r.createElement("li",{key:e},r.createElement(l.rU,{to:"/search/author/".concat(t)},e))}))),r.createElement("p",{className:"text-muted"},"Date: ",u),r.createElement("div",{className:"card-price"},d," ",f)),r.createElement("button",{className:"btn btn-primary",onClick:function(){return c(e)}},"Add to Cart"))};var N=function(e){return!1===e.volumeInfo.hasOwnProperty("publishedDate")&&(e.volumeInfo.publishedDate="0000"),!1===e.volumeInfo.hasOwnProperty("imageLinks")&&(e.volumeInfo.imageLinks={thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRd-y-IJN8glQlf1qoU01dEgGPUa0d1-sjfWg&usqp=CAU"}),!1===e.volumeInfo.hasOwnProperty("authors")&&(e.volumeInfo.authors="Unknown Authors"),!1===e.saleInfo.hasOwnProperty("listPrice")&&(e.saleInfo.listPrice={amount:9.8,currencyCode:"EUR"}),!1===e.volumeInfo.hasOwnProperty("title")&&(e.volumeInfo.title="No Title"),e};function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const x=function(e){var t=e.click,n=k((0,r.useState)(!1),2),a=(n[0],n[1]),l=k((0,r.useState)([]),2),o=l[0],c=l[1];(0,r.useEffect)((function(){i()}),[]);var i=function(){a(!0),b().get("https://www.googleapis.com/books/v1/volumes?q=classics&filter=paid-ebooks&maxResults=40").then((function(e){var t=s(e);c(t),a(!1)})).catch((function(e){return console.log(e)}))},s=function(e){return e.data.items.map((function(e){return N(e)}))};return r.createElement("main",null,r.createElement("h1",{className:"p-3 m-2 text-white"},"Homepage"),r.createElement("div",{className:"justify-content-center d-flex p-2 flex-wrap"},o.map((function(e,n){return r.createElement(g,w({key:n,data:e},e,{click:t}))}))))};const I=function(e){var t=e.books,n=e.click;return(0,r.useEffect)((function(){var e=function(e){return e.preventDefault(),e.returnValue="",""};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}),[]),0==!t.length?r.createElement("div",null,r.createElement("h1",{className:"p-3 m-2"},"Shopping Cart"),r.createElement("div",null,"Items count: ",t.length),t.map((function(e,t){var a,l,o,c,i,s,m,u,d;return r.createElement("div",{className:"order card m-2",key:t},r.createElement("div",{className:"card-body d-inline-flex"},r.createElement("img",{className:"card-image d-inline-flex p-2",src:null===(a=e.volumeInfo)||void 0===a||null===(l=a.imageLinks)||void 0===l?void 0:l.thumbnail,style:{height:"150px",width:"auto"}}),r.createElement("div",{className:"card-content d-inline"},r.createElement("h2",{className:"card-title"},null===(o=e.volumeInfo)||void 0===o?void 0:o.title," - ",null===(c=e.volumeInfo)||void 0===c?void 0:c.authors[0]),r.createElement("div",{className:"card-info p-2"},null===(i=e.searchInfo)||void 0===i?void 0:i.textSnippet),r.createElement("div",{className:"card-price p-2"},null===(s=e.saleInfo)||void 0===s||null===(m=s.listPrice)||void 0===m?void 0:m.amount," ",null===(u=e.saleInfo)||void 0===u||null===(d=u.listPrice)||void 0===d?void 0:d.currencyCode)),r.createElement("button",{onClick:function(e){return n(e,t)},className:"btn btn-light btn-delete",name:e.id},"x")))})),r.createElement(l.rU,{to:"/checkout",className:"btn btn-primary m-2"},"CHECKOUT")):r.createElement("div",null,r.createElement("h1",{className:"p-3 m-2"},"Shopping Cart"),r.createElement("div",{className:"empty-cart text-muted"},r.createElement("div",{className:"p-3 empty-cart text"},"Cart is empty"),r.createElement("span",{className:"material-symbols-outlined empty-cart icon"},"production_quantity_limits")))};var O=n(5935);const S=function(e){var t,n,a,c,i,s,m,u,d,f,p=e.click,v=(0,o.TH)().state.data,h=v.volumeInfo,E=v.saleInfo,y=null==h?void 0:h.title,b=(null==h||null===(t=h.imageLinks)||void 0===t?void 0:t.thumbnail)||(null==h||null===(n=h.imageLinks)||void 0===n?void 0:n.smallThumbnail),g=null==h?void 0:h.authors,N=null==h?void 0:h.publishedDate,w=null==h?void 0:h.description,k=null==E||null===(a=E.listPrice)||void 0===a?void 0:a.amount,A=null==E||null===(c=E.listPrice)||void 0===c?void 0:c.currencyCode,x=null!==(i=null==h?void 0:h.language)&&void 0!==i?i:"",I=null!==(s=null==h?void 0:h.categories)&&void 0!==s?s:[],S=null!==(m=null==h?void 0:h.industryIdentifiers)&&void 0!==m?m:[],C=null!==(u=null==h?void 0:h.pageCount)&&void 0!==u?u:"",j=null!==(d=null==h?void 0:h.publisher)&&void 0!==d?d:"",P=null!==(f=null==h?void 0:h.maturityRating)&&void 0!==f?f:"";return P="MATURE"==P,r.createElement("div",{className:"container book-details mb-3"},r.createElement("div",{className:"row g-5"},r.createElement("div",{className:"col"},r.createElement("div",{className:"image-container"},r.createElement("img",{className:"book-details-image mt-4 mb-5",src:b,alt:y}),r.createElement("div",{className:"mature"},P?"ð":"")),r.createElement("h4",{className:"d-inline"},"Language:"),r.createElement("span",null," "+x),r.createElement("h4",null,"Categories:"),r.createElement("div",{className:"categories"},I.map((function(e,t){return r.createElement("div",{key:t},e)}))),r.createElement("h4",{className:"d-inline"},"Pages:"),r.createElement("span",null," "+C)),r.createElement("div",{className:"col-9"},r.createElement("h1",null,y),r.createElement("div",null,r.createElement("h2",null,"Author:"),"Unknown Authors"===g?"Unknown Authors":null==g?void 0:g.map((function(e){var t=e.replaceAll(" ","+");return r.createElement("h3",{key:e},r.createElement(l.rU,{to:"/search/author/".concat(t)},e+" "))}))),r.createElement("div",{className:"book-date text-muted"},"Date: ",N),r.createElement("div",{className:"text-muted"},"Publisher: ",j),S.map((function(e,t){return r.createElement("div",{className:"isbn",key:t},e.type,": ",e.identifier)})),r.createElement("div",{className:"book-description mt-3"},(0,O.ZP)("".concat(w))),r.createElement("div",{className:"book-price mt-3"},k," ",A),r.createElement("button",{className:"btn btn-primary",onClick:function(){return p(v)}},"Add to Cart"))))};n(2707),n(3123),n(1058);function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const U=function(e){var t=e.click,n=(0,o.UO)().keyword,a=(0,o.UO)().name,l=j((0,r.useState)([]),2),c=l[0],i=l[1],s=j((0,r.useState)(!1),2),m=s[0],u=s[1],d=j((0,r.useState)(""),2),f=d[0],p=d[1],v=function(e){return e.data.items.map((function(e){return N(e)}))},h=c.sort((function(e,t){var n=j(e.volumeInfo.publishedDate.split("-"),3),r=n[0],a=n[1],l=n[2],o=j(t.volumeInfo.publishedDate.split("-"),3),c=o[0],i=o[1],s=o[2];return"newest"===f?parseInt(r)===parseInt(c)?parseInt(a)===parseInt(i)?parseInt(l)<parseInt(s)?-1:parseInt(l)>parseInt(s)?1:0:parseInt(a)>parseInt(i)?-1:1:parseInt(r)>parseInt(c)?-1:1:"oldest"===f?parseInt(c)===parseInt(r)?parseInt(i)===parseInt(a)?parseInt(s)<parseInt(l)?-1:parseInt(s)>parseInt(l)?1:0:parseInt(i)>parseInt(a)?-1:1:parseInt(c)>parseInt(r)?-1:1:void 0}));return(0,r.useEffect)((function(){n&&(u(!0),b().get("https://www.googleapis.com/books/v1/volumes?q=".concat(n,"&maxResults=40")).then((function(e){var t=v(e);i(t),u(!1)})).catch((function(e){return console.log(e)})))}),[n]),(0,r.useEffect)((function(){a&&(u(!0),b().get('https://www.googleapis.com/books/v1/volumes?q=inauthor:"'.concat(a,'"&maxResults=40')).then((function(e){var t=v(e);i(t),u(!1)})).catch((function(e){return console.log(e)})))}),[a]),m?r.createElement("p",null,"Loading..."):r.createElement(r.Fragment,null,r.createElement("select",{className:"form-select m-3 form-select-sm mx-auto",defaultValue:f,onChange:function(e){p(e.target.value)}},r.createElement("option",{value:"",invalid:"true",hidden:!0},"Sort"),r.createElement("option",{value:"oldest"},"Oldest"),r.createElement("option",{value:"newest"},"Newest")),r.createElement("div",{className:"justify-content-center d-flex p-2 flex-wrap"},h.map((function(e){return r.createElement(g,C({key:e.id,data:e},e,{click:t}))}))))};n(9720),n(9070),n(5003),n(9554),n(4747),n(9337),n(3321);const D=function(e){var t=e.change;return r.createElement("div",null,r.createElement("h1",null,"Billing details"),r.createElement("form",{className:"billing form border rounded  p-4",action:"#payment-card",onSubmit:function(e){return e.preventDefault(),window.scrollTo(0,800),!1}},r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"nameCard"},"First name"),r.createElement("input",{type:"text",className:"form-control",name:"firstname",onChange:t,required:!0})),r.createElement("div",{className:"form-group"},r.createElement("label",{htmlFor:"lastname"},"Last Name"),r.createElement("input",{type:"text",className:"form-control",name:"lastname",onChange:t,required:!0})),r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"email"},"Email"),r.createElement("input",{type:"email",className:"form-control",name:"email",onChange:t,required:!0})),r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"streetAddress"},"Street address"),r.createElement("input",{type:"text",className:"form-control",name:"streetAddress",onChange:t,required:!0})),r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"aptAddress"},"Apt, suite, etc."),r.createElement("input",{type:"text",className:"form-control",name:"aptAddress",onChange:t,required:!0})),r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"cityAddress"},"City"),r.createElement("input",{type:"text",className:"form-control",name:"cityAddress",onChange:t,required:!0})),r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"countryAddress"},"Country"),r.createElement("input",{type:"text",className:"form-control",name:"countryAddress",onChange:t,required:!0})),r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"zipAddress"},"Postal code"),r.createElement("input",{type:"text",className:"form-control",name:"zipAddress",onChange:t,required:!0})),r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"phone"},"Phone"),r.createElement("input",{type:"tel",className:"form-control",name:"phone",pattern:"[0-9]{10,13}",onChange:t,required:!0})),r.createElement("div",{className:"form-check"},r.createElement("input",{type:"checkbox",name:"saveAddress",className:"form-check-input",onChange:t}),r.createElement("label",{htmlFor:"saveAddress",className:"form-check-label"},"Save this information for the next time")),r.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.createElement("button",{type:"reset",className:"btn btn-light p-2 mx-3"},"Reset")))};const q=function(e){var t=e.change;return r.createElement("div",null,r.createElement("h1",null,"Payment card"),r.createElement("form",{id:"payment-card",className:"payment-card border rounded p-4 m-3",action:"#",onSubmit:function(e){return e.preventDefault(),window.scrollTo(0,0),!1}},r.createElement("div",{className:""},r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"name"},"Name"),r.createElement("input",{type:"text",className:"form-control",name:"name",onChange:t,required:!0}))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-8"},r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"cardNumber"},"Card number"),r.createElement("input",{type:"tel",className:"form-control",name:"cardNumber",inputMode:"numeric",pattern:"[0-9\\s]{13,19}",autoComplete:"cc-number",maxLength:"19",placeholder:"xxxx xxxx xxxx xxxx",onChange:t,required:!0}))),r.createElement("div",{className:"col"},r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"cvv"},"CVV"),r.createElement("input",{type:"tel",inputMode:"numeric",pattern:"[0-9]{3,4}",className:"form-control",placeholder:"â¢â¢â¢â¢",name:"cvv",onChange:t,required:!0})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"validMonth"},"Valid until month"),r.createElement("input",{type:"tel",className:"form-control",name:"validMonth",onChange:t,pattern:"[0-9]{2}",required:!0}))),r.createElement("div",{className:"col"},r.createElement("div",{className:"form-group "},r.createElement("label",{htmlFor:"validYear"},"Valid until year"),r.createElement("input",{type:"tel",className:"form-control",name:"validYear",pattern:"[0-9]{2}",onChange:t,required:!0})))),r.createElement("div",{className:"form-check"},r.createElement("input",{type:"checkbox",name:"saveCard",className:"form-check-input",onChange:t}),r.createElement("label",{htmlFor:"saveCard",className:"form-check-label"},"Save this information for the next time")),r.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.createElement("button",{type:"reset",className:"btn btn-light p-2 mx-3"},"Reset")))};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){R(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const B=function(e){var t=e.books,n=e.click,a=L((0,r.useState)([]),2),l=a[0],o=a[1],c=L((0,r.useState)({firstname:"",lastname:"",email:"",phone:"",streetAddress:"",aptAddress:"",cityAddress:"",countryAddress:"",zipAddress:"",saveAddress:!1}),2),i=c[0],s=c[1],u=L((0,r.useState)({name:"",cardNumber:"",cvv:"",validMonth:"",validYear:"",saveCard:!1}),2),d=u[0],f=u[1],p=L((0,r.useState)(!1),2),v=p[0],h=p[1],E=L((0,r.useState)(!1),2),y=E[0],g=E[1];(0,r.useEffect)((function(){N()}),[]);var N=function(){b().get("/api/checkout").then((function(e){o(e.data)})).catch((function(e){console.log("Axios error: ",e)}))};return(0,r.useEffect)((function(){N()}),[y]),r.createElement("div",{className:"container checkout"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement(D,{change:function(e){return function(e){"saveAddress"==e.target.name?s(_(_({},i),{},R({},e.target.name,[e.target.checked]))):s(_(_({},i),{},R({},e.target.name,[e.target.value])))}(e)}}),r.createElement(q,{change:function(e){return function(e){"saveCard"==e.target.name?f(_(_({},d),{},R({},e.target.name,[e.target.checked]))):f(_(_({},d),{},R({},e.target.name,[e.target.value])))}(e)}})),r.createElement("div",{className:"col"},r.createElement("div",{className:"order-overview border rounded m-3 p-3"},r.createElement("h3",null,"Your order"),r.createElement("h4",null),r.createElement("div",null,i.firstname," ",i.lastname),r.createElement("div",null,"Email: ",i.email),r.createElement("div",null,"Address:",""==i.streetAddress?" ":" ".concat(i.streetAddress," ").concat(i.aptAddress,", "),""==i.cityAddress?" ":"".concat(i.cityAddress,", "),""==i.countryAddress?" ":"".concat(i.countryAddress,", "),i.zipAddress),r.createElement("div",null,"Phone: ",i.phone),r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"},"Id"),r.createElement("th",{scope:"col"},"Book"),r.createElement("th",{scope:"col"},"Price"))),r.createElement("tbody",null,null==t?void 0:t.map((function(e,t){var n,a,l,o,c,i;return r.createElement("tr",{key:t},r.createElement("td",null,t+1),r.createElement("td",null,null===(n=e.volumeInfo)||void 0===n?void 0:n.title," -"," ",null===(a=e.volumeInfo)||void 0===a?void 0:a.authors[0]),r.createElement("td",null,null===(l=e.saleInfo)||void 0===l||null===(o=l.listPrice)||void 0===o?void 0:o.amount," ",null===(c=e.saleInfo)||void 0===c||null===(i=c.listPrice)||void 0===i?void 0:i.currencyCode))})))),r.createElement("button",{disabled:v,className:"btn btn-primary",onClick:function(){var e=new FormData;h(!0);for(var r=t.map((function(e){return e.id})),a=0,l=Object.entries(i);a<l.length;a++){var o=L(l[a],2),c=o[0],u=o[1];e.append("".concat(c),"".concat(u))}for(var p=0,v=Object.entries(d);p<v.length;p++){var E=L(v[p],2),y=E[0],N=E[1];e.append("".concat(y),"".concat(N))}var w="".concat(i.streetAddress,", ").concat(i.cityAddress,", ").concat(i.countryAddress," ");e.append("address",w),e.append("product_id[]",r),b().post("/api/checkout",e).then((function(e){m().fire({icon:"success",title:"Order placed successfully",showConfirmButton:!1,timer:1500}),h(!1),s({}),f({}),n(),g(!0)})).catch((function(e){console.log("Axios error: ",e.response.data),m().fire({icon:"error",title:"An error occured",showConfirmButton:!1,timer:1500}),h(!1)}))}},"PLACE ORDER")),r.createElement("div",{className:"border rounded m-3 p-3"},r.createElement("h4",null,"Order history"),r.createElement("table",{className:"table"},r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",{scope:"col"},"Order ID"),r.createElement("th",{scope:"col"},"Order info"))),r.createElement("tbody",null,null==l?void 0:l.map((function(e,t){return r.createElement("tr",{key:t},r.createElement("td",null,e.id),r.createElement("td",null,e.address))}))))))))};function W(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){if(e){if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(){var e=M((0,r.useState)([]),2),t=e[0],n=e[1],a=function(e){n([].concat(W(t),[e]))},c=function(){return r.createElement("h2",null,"No path matches")};return r.createElement(l.VK,null,r.createElement(o.Z5,null,r.createElement(o.AW,{exact:!0,path:"/",element:r.createElement(E,{books:t})},r.createElement(o.AW,{index:!0,element:r.createElement(x,{click:a})}),r.createElement(o.AW,{path:"/:id/:title",element:r.createElement(S,{click:a})}),r.createElement(o.AW,{path:"/search/:keyword",element:r.createElement(U,{click:a})}),r.createElement(o.AW,{path:"/search/:keyword/:id/:title",element:r.createElement(S,{click:a})}),r.createElement(o.AW,{exact:!0,path:"/search/author/:name",element:r.createElement(U,null)}),r.createElement(o.AW,{exact:!0,path:"/search/author/:name/:id/:tile",element:r.createElement(S,{click:a})}),r.createElement(o.AW,{path:"/shopping-cart",element:r.createElement(I,{books:t,click:function(e,r){var a=t.filter((function(e,t){return t!==r}));n(a)}})}),r.createElement(o.AW,{path:"/checkout",element:r.createElement(B,{books:t,click:function(){n([])}})}),r.createElement(o.AW,{path:"/404",element:r.createElement(c,null)}),r.createElement(o.AW,{path:"/*",element:r.createElement(o.Fg,{to:"/404"})}),r.createElement(o.AW,{path:"/search/author/*",element:r.createElement(o.Fg,{to:"/404"})}))))}a.createRoot(document.getElementById("app")).render(r.createElement(H,null))}},e=>{e.O(0,[895],(()=>{return t=1756,e(e.s=t);var t}));e.O()}]);